{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/5610 web/cs5610-f20-client-react-chengcheng/src/components/ModuleListComponent.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { TiTimes, TiPencil } from 'react-icons/ti';\nimport { HiCheck } from 'react-icons/hi';\nimport { connect } from 'react-redux';\nimport moduleService from \"../services/ModuleService\";\n\nconst ModuleListComponent = ({\n  //want to receive data from reducer\n  course = {},\n  modules = [],\n  deleteModule,\n  createModule,\n  updateModule,\n  okModule,\n  editModule\n}) => {\n  const togle = id => {\n    const new_active_status = modules.map(module => {\n      if (module._id === id) {\n        return Object.assign({}, {\n          _id: module._id,\n          className: \" active\"\n        });\n      } else {\n        return Object.assign({}, {\n          _id: module._id,\n          className: \"\"\n        });\n      }\n    });\n    click(Object.assign([], active_status, new_active_status));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wbdv-module-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group wbdv-module-item hightlight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 25\n    }\n  }, modules.map(module => /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-group-item highlight\",\n    key: module._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 33\n    }\n  }, module.editing && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: module.title,\n    onChange: event => updateModule({ ...module,\n      title: event.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 49\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"float-right\",\n    onClick: () => okModule(module),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(HiCheck, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 109\n    }\n  })), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"float-right\",\n    onClick: () => deleteModule(module),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(TiTimes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 113\n    }\n  }))), !module.editing && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/edit/${course._id}/modules/${module._id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 57\n    }\n  }, module.title), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    onClick: () => editModule(module),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(TiPencil, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 95\n    }\n  })))))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-sm btn-primary float-right\" //create module for particular course\n    ,\n    onClick: () => createModule(course),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 33\n    }\n  }, \"+\")))));\n};\n\nconst propertyToDispatchMapper = dispatch => ({\n  deleteModule: module => //first delete from server\n  moduleService.deleteModule(module._id) // then delete from state\n  .then(status => dispatch({\n    type: \"DELETE_MODULE\",\n    module: module\n  })),\n  createModule: course => moduleService.createModule(course._id, {\n    title: \"New Module\"\n  }).then(actualModule => dispatch({\n    type: \"CREATE_MODULE\",\n    module: actualModule\n  })),\n  updateModule: module => dispatch({\n    type: \"UPDATE_MODULE\",\n    module: module\n  }),\n  editModule: module => moduleService.updateModule(module._id, { ...module,\n    editing: true\n  }).then(status => dispatch({\n    type: \"UPDATE_MODULE\",\n    module: { ...module,\n      editing: true\n    }\n  })),\n  okModule: module => moduleService.updateModule(module._id, { ...module,\n    editing: false\n  }).then(status => dispatch({\n    type: \"UPDATE_MODULE\",\n    module: { ...module,\n      editing: false\n    }\n  }))\n});\n\nconst stateToPropertyMapper = state => ({\n  modules: state.moduleReducer.modules,\n  course: state.courseReducer.course\n});\n\nexport default connect(stateToPropertyMapper, propertyToDispatchMapper)(ModuleListComponent);","map":{"version":3,"sources":["/Users/mac/Desktop/5610 web/cs5610-f20-client-react-chengcheng/src/components/ModuleListComponent.jsx"],"names":["React","Component","Link","TiTimes","TiPencil","HiCheck","connect","moduleService","ModuleListComponent","course","modules","deleteModule","createModule","updateModule","okModule","editModule","togle","id","new_active_status","map","module","_id","Object","assign","className","click","active_status","editing","title","event","target","value","propertyToDispatchMapper","dispatch","then","status","type","actualModule","stateToPropertyMapper","state","moduleReducer","courseReducer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Link} from \"react-router-dom\";\nimport { TiTimes,TiPencil } from 'react-icons/ti';\nimport {HiCheck} from 'react-icons/hi'\nimport { connect } from 'react-redux';\nimport moduleService from \"../services/ModuleService\"\n\nconst ModuleListComponent = ({\n        //want to receive data from reducer\n        course = {},\n        modules = [],\n        deleteModule,\n        createModule,\n        updateModule,\n        okModule,\n        editModule\n}) =>{\n\n    const togle = (id) => {\n        const new_active_status = modules.map((module) => {\n            if (module._id === id) {\n                return Object.assign(\n                    {},\n                    { _id: module._id, className: \" active\" }\n                );\n            } else {\n                return Object.assign({}, { _id: module._id, className: \"\" });\n            }\n        });\n        click(Object.assign([], active_status, new_active_status));\n    };\n\n\n        return (\n        <div className=\"col-sm-4\">\n        <br/>\n        <div className=\"wbdv-module-list\">\n                <div>\n                        <ul className=\"list-group wbdv-module-item hightlight\">\n                        {\n                        modules.map(module => \n                                <li className=\"list-group-item highlight\" key={module._id}>                \n                                        {module.editing &&\n                                        <div>\n                                                <input value={module.title}\n                                                onChange={(event) => updateModule({\n                                                        ...module,\n                                                        title:event.target.value\n                                                })}/>\n                                                <i className=\"float-right\" onClick={() => okModule(module)}><HiCheck/></i>\n                                                <i className=\"float-right\" onClick={() => deleteModule(module)}><TiTimes/></i>   \n                                        </div>\n                                        }\n                                        {!module.editing &&\n                                                <span>\n                                                        <Link to={`/edit/${course._id}/modules/${module._id}`}>{module.title}</Link>\n                                                        <span className=\"float-right\">\n                                                        <i onClick={() => editModule(module)}><TiPencil/></i>\n                                                        </span>\n                                                </span>\n                                        }  \n                                </li>)\n                        }\n                                <button className=\"btn btn-sm btn-primary float-right\" \n                                        //create module for particular course\n                                        onClick={() => createModule(course)}\n                                        >+</button>                        \n                       \n                        </ul>\n                </div>\n        </div>\n \n        </div>)}\nconst propertyToDispatchMapper = (dispatch) => ({\n    deleteModule: (module) =>\n    //first delete from server\n    moduleService.deleteModule(module._id)\n        // then delete from state\n      .then(status => dispatch({\n        type: \"DELETE_MODULE\",\n        module: module\n      })),\n\n    createModule: (course) =>\n    moduleService.createModule(course._id, {\n      title: \"New Module\"\n    }).then(actualModule => dispatch({\n      type: \"CREATE_MODULE\",\n      module: actualModule\n    })),\n\n    updateModule: (module) =>\n    dispatch({\n      type: \"UPDATE_MODULE\",\n      module: module\n    }),\n\n    editModule: (module) =>\n    moduleService.updateModule(module._id, {\n      ...module, editing: true\n    }).then(status =>\n      dispatch({\n      type: \"UPDATE_MODULE\",\n      module: {...module, editing: true}\n    })),\n    \n    okModule: (module) =>\n    moduleService.updateModule(module._id, {\n      ...module, editing: false\n    }).then(status => dispatch({\n      type: \"UPDATE_MODULE\",\n      module: {...module, editing: false}\n    }))\n })\n\nconst stateToPropertyMapper = (state) => ({\n        modules: state.moduleReducer.modules,\n        course: state.courseReducer.course\n})\n\nexport default connect\n        (stateToPropertyMapper,propertyToDispatchMapper)\n        (ModuleListComponent)"]},"metadata":{},"sourceType":"module"}