{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/5610 web/cs5610-f20-client-react-chengcheng/src/components/TopicPills.jsx\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport \"../css/course-list.style.css\";\nimport topicService from '../services/TopicService';\nimport { connect } from 'react-redux';\nimport { TiTimes, TiPencil } from 'react-icons/ti';\nimport { HiCheck } from 'react-icons/hi';\nimport { FaPlus } from 'react-icons/fa';\n\nconst TopicPills = ({\n  course = {},\n  moduleId,\n  lessonId,\n  topics = [],\n  createTopicForLesson,\n  deleteTopic,\n  updateTopic,\n  editTopic,\n  okTopic\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"ul\", {\n  className: \"nav nav-tabs\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }\n}, topics.map(topic => /*#__PURE__*/React.createElement(\"li\", {\n  key: topic._id,\n  className: \"nav-item\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 11\n  }\n}, /*#__PURE__*/React.createElement(\"a\", {\n  className: \"nav-link\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 13\n  }\n}, !topic.editing && /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 17\n  }\n}, /*#__PURE__*/React.createElement(Link, {\n  to: `/edit/${course._id}/modules/${moduleId}/lessons/${lessonId}/topics/${topic._id}`,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 19\n  }\n}, topic.title), /*#__PURE__*/React.createElement(TiPencil, {\n  onClick: () => editTopic(topic),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 17\n  }\n})), topic.editing && /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 17\n  }\n}, /*#__PURE__*/React.createElement(\"input\", {\n  value: topic.title,\n  onChange: event => updateTopic({ ...topic,\n    title: event.target.value\n  }),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 19\n  }\n}), /*#__PURE__*/React.createElement(\"i\", {\n  onClick: () => deleteTopic(topic._id),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 19\n  }\n}, /*#__PURE__*/React.createElement(TiTimes, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 61\n  }\n})), /*#__PURE__*/React.createElement(\"i\", {\n  onClick: () => okTopic(topic),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 19\n  }\n}, /*#__PURE__*/React.createElement(HiCheck, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 53\n  }\n})))))), /*#__PURE__*/React.createElement(\"button\", {\n  className: \"btn btn-sm\",\n  onClick: () => createTopicForLesson(lessonId),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(FaPlus, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }\n}))));\n\nconst stateToPropertyMapper = state => ({\n  course: state.courseReducer.course,\n  moduleId: state.lessonReducer.moduleId,\n  topics: state.topicReducer.topics,\n  lessonId: state.topicReducer.lessonId\n});\n\nconst dispatchToPropertyMapper = dispatch => ({\n  updateTopic: newTopic => dispatch({\n    type: \"UPDATE_TOPIC\",\n    topic: newTopic\n  }),\n  deleteTopic: topicId => topicService.deleteTopic(topicId).then(status => dispatch({\n    type: \"DELETE_TOPIC\",\n    topicId: topicId\n  })),\n  createTopicForLesson: lessonId => topicService.createTopic(lessonId, {\n    title: \"New Topic\",\n    editing: false\n  }).then(actualTopic => dispatch({\n    type: \"CREATE_TOPIC_FOR_LESSON\",\n    topic: actualTopic\n  })),\n  editTopic: topic => topicService.updateTopic(topic._id, { ...topic,\n    editing: true\n  }).then(status => dispatch({\n    type: \"UPDATE_TOPIC\",\n    topic: { ...topic,\n      editing: true\n    }\n  })),\n  okTopic: topic => topicService.updateTopic(topic._id, { ...topic,\n    editing: false\n  }).then(status => dispatch({\n    type: \"UPDATE_TOPIC\",\n    topic: { ...topic,\n      editing: false\n    }\n  }))\n});\n\nexport default connect(stateToPropertyMapper, dispatchToPropertyMapper)(TopicPills);","map":{"version":3,"sources":["/Users/mac/Desktop/5610 web/cs5610-f20-client-react-chengcheng/src/components/TopicPills.jsx"],"names":["React","Link","topicService","connect","TiTimes","TiPencil","HiCheck","FaPlus","TopicPills","course","moduleId","lessonId","topics","createTopicForLesson","deleteTopic","updateTopic","editTopic","okTopic","map","topic","_id","editing","title","event","target","value","stateToPropertyMapper","state","courseReducer","lessonReducer","topicReducer","dispatchToPropertyMapper","dispatch","newTopic","type","topicId","then","status","createTopic","actualTopic"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Link} from 'react-router-dom';\nimport \"../css/course-list.style.css\";\nimport topicService from '../services/TopicService';\nimport {connect} from 'react-redux';\nimport { TiTimes,TiPencil } from 'react-icons/ti';\nimport {HiCheck} from 'react-icons/hi'\nimport { FaPlus } from 'react-icons/fa';\n\nconst TopicPills = (\n  {\n    course = {},\n    moduleId,\n    lessonId,\n    topics=[],\n    createTopicForLesson,\n    deleteTopic,\n    updateTopic,\n    editTopic,\n    okTopic\n  }) =>\n  <div>\n    <ul className=\"nav nav-tabs\">\n      {\n        topics.map(topic =>\n          <li key={topic._id} className=\"nav-item\">\n            <a className=\"nav-link\">\n              {\n                !topic.editing &&\n                <span>\n                  <Link to={`/edit/${course._id}/modules/${moduleId}/lessons/${lessonId}/topics/${topic._id}`}>\n                    {topic.title}\n                  </Link>\n                <TiPencil onClick={() => editTopic(topic)}/>\n                </span>\n              }\n              {\n                topic.editing &&\n                <span>\n                  <input value={topic.title}\n                    onChange={(event) => updateTopic({\n                      ...topic,\n                      title: event.target.value\n                    })}\n                  />\n                  <i onClick={() => deleteTopic(topic._id)}><TiTimes/></i>\n                  <i onClick={() => okTopic(topic)}><HiCheck/></i>\n                </span>\n              }\n            </a>\n          </li>\n        )\n      }\n      <button className=\"btn btn-sm\" onClick={() => createTopicForLesson(lessonId)}>\n        <FaPlus/>\n      </button>      \n    </ul>\n\n  </div>\n \n  const stateToPropertyMapper = (state) => ({\n    course: state.courseReducer.course,\n    moduleId: state.lessonReducer.moduleId,\n    topics: state.topicReducer.topics,\n    lessonId: state.topicReducer.lessonId\n})\n\nconst dispatchToPropertyMapper = (dispatch) => ({\n  updateTopic: (newTopic) =>\n    dispatch({\n        type: \"UPDATE_TOPIC\",\n        topic: newTopic\n      }),\n\n  deleteTopic: (topicId) =>\n    topicService.deleteTopic(topicId)\n      .then(status => dispatch({\n        type: \"DELETE_TOPIC\",\n        topicId: topicId\n      })),\n\n  createTopicForLesson: (lessonId) =>\n    topicService.createTopic(\n      lessonId, \n      {\n      title: \"New Topic\",\n      editing: false\n    })\n      .then(actualTopic => dispatch({\n        type: \"CREATE_TOPIC_FOR_LESSON\",\n        topic: actualTopic\n      })),\n\n  editTopic: (topic) =>\n  topicService.updateTopic(topic._id,\n    {\n      ...topic, editing : true\n    }).then(status =>\n      dispatch({\n        type: \"UPDATE_TOPIC\",\n        topic: {...topic, editing: true}\n      })),\n\n  okTopic: (topic) =>\n  topicService.updateTopic(topic._id,\n    {\n      ...topic, editing : false\n    }).then(status =>\n      dispatch({\n        type: \"UPDATE_TOPIC\",\n        topic: {...topic, editing: false}\n      })),\n  \n})\n\nexport default connect\n(stateToPropertyMapper,\ndispatchToPropertyMapper)\n(TopicPills)"]},"metadata":{},"sourceType":"module"}